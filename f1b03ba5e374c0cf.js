import"./style.css";import*as THREE from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls";import{GLTFLoader}from"three/examples/jsm/loaders/GLTFLoader";const canvas=document.querySelector("canvas"),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,.1,1e3);camera.position.set(-4.9,4.4,1.9),camera.rotation.set(-.9,-.8,-.8);const renderer=new THREE.WebGLRenderer({canvas});renderer.setSize(window.innerWidth,window.innerHeight);const controls=new OrbitControls(camera,canvas);controls.enableDamping=!0;let position=0;const positionDescriptionElement=document.getElementById("positionDescription"),containerDescriptionElement=document.getElementById("containerDescription");positionDescriptionElement.textContent="Welcome to The Great Drawing Room in The Hallwylska Museum! Press ENTER to visit exhibits. Press the MOUSE and move it, zoom in and out to explore other angles.";const gltfLoader=new GLTFLoader;function animateCamera(e,n,t){const o=camera.position.clone(),i=(new THREE.Quaternion).setFromEuler(camera.rotation),r=(new THREE.Quaternion).setFromEuler(n),a=performance.now();requestAnimationFrame((function n(){const s=performance.now()-a,c=Math.min(s/t,1),m=o.clone().lerp(e,c),l=(new THREE.Quaternion).slerp(i,r,c);camera.position.copy(m),camera.quaternion.copy(l),controls.update(),c<1&&requestAnimationFrame(n)}))}function animate(){renderer.render(scene,camera),controls.update(),requestAnimationFrame(animate)}gltfLoader.load("/model/swedish-royal/scene.gltf",(e=>{const n=e.scene;scene.add(n),window.addEventListener("keydown",(function(e){if("Enter"===e.key)switch(position){case 0:animateCamera(new THREE.Vector3(4.879704567242669,1.911226538330602,-2.4347609488415327),new THREE.Euler(-2.47608066230899,1.0055230071590058,2.5562258563242928),1e3),position=1,positionDescriptionElement.textContent="Exhibit1: Table and Seat furniture (press enter, use mouse)",containerDescriptionElement.style.display="block";break;case 1:animateCamera(new THREE.Vector3(.866712579845732,1.4184612430963985,-4.469162262571844),new THREE.Euler(-2.747925740144329,.3594033594343421,2.9965343158244933),1e3),position=2,positionDescriptionElement.textContent="Exhibit2: The Steinway Grand Piano (press enter, use mouse)",containerDescriptionElement.style.display="block";break;case 2:animateCamera(new THREE.Vector3(-4.49992903804428,2.1945300084716757,3.3023686289797896),new THREE.Euler(-2.2756771051210136,-.5995377587975221,-2.555913070697296),1e3),position=0,positionDescriptionElement.textContent="Exhibit3: Table  (press enter, use mouse)",containerDescriptionElement.style.display="block"}window.addEventListener("mousedown",(function(){positionDescriptionElement.textContent="",containerDescriptionElement.style.display="none"}))}))})),animate();